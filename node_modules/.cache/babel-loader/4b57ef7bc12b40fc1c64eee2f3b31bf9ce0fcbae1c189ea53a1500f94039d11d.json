{"ast":null,"code":"/**\r\n * API Service for BuildX.Pro\r\n * Frontend service to interact with PHP backend\r\n */\n\nconst API_BASE_URL = 'http://localhost/Servicios_Web/api';\nclass ApiService {\n  // Helper method for API requests\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}/${endpoint}`;\n    const defaultOptions = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    // Add authorization token if available\n    const token = localStorage.getItem('token');\n    if (token) {\n      defaultOptions.headers['Authorization'] = `Bearer ${token}`;\n    }\n    const config = {\n      ...defaultOptions,\n      ...options,\n      headers: {\n        ...defaultOptions.headers,\n        ...options.headers\n      }\n    };\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || 'Error en la solicitud');\n      }\n      return data;\n    } catch (error) {\n      console.error('API Error:', error);\n      throw error;\n    }\n  }\n\n  // Authentication\n  async login(username, password) {\n    return this.request('auth.php?action=login', {\n      method: 'POST',\n      body: JSON.stringify({\n        nombre_usuario: username,\n        password\n      })\n    });\n  }\n  async register(userData) {\n    return this.request('auth.php?action=register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n  async verifyToken(token) {\n    return this.request('auth.php?action=verify', {\n      method: 'POST',\n      body: JSON.stringify({\n        token\n      })\n    });\n  }\n\n  // Projects\n  async getProjects(filters = {}) {\n    const queryParams = new URLSearchParams(filters).toString();\n    return this.request(`proyectos.php${queryParams ? '?' + queryParams : ''}`);\n  }\n  async getProject(id) {\n    return this.request(`proyectos.php?id=${id}`);\n  }\n  async createProject(projectData) {\n    return this.request('proyectos.php', {\n      method: 'POST',\n      body: JSON.stringify(projectData)\n    });\n  }\n  async updateProject(projectData) {\n    return this.request('proyectos.php', {\n      method: 'PUT',\n      body: JSON.stringify(projectData)\n    });\n  }\n  async deleteProject(id) {\n    return this.request(`proyectos.php?id=${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Resources\n  async getResources(type = 'all') {\n    return this.request(`recursos.php?type=${type}`);\n  }\n  async createResource(resourceData) {\n    return this.request('recursos.php', {\n      method: 'POST',\n      body: JSON.stringify(resourceData)\n    });\n  }\n  async updateResource(resourceData) {\n    return this.request('recursos.php', {\n      method: 'PUT',\n      body: JSON.stringify(resourceData)\n    });\n  }\n  async deleteResource(type, id) {\n    return this.request(`recursos.php?type=${type}&id=${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Reports\n  async getReports(filters = {}) {\n    const queryParams = new URLSearchParams(filters).toString();\n    return this.request(`reportes.php${queryParams ? '?' + queryParams : ''}`);\n  }\n  async getReport(id) {\n    return this.request(`reportes.php?id=${id}`);\n  }\n  async createReport(reportData) {\n    return this.request('reportes.php', {\n      method: 'POST',\n      body: JSON.stringify(reportData)\n    });\n  }\n  async deleteReport(id) {\n    return this.request(`reportes.php?id=${id}`, {\n      method: 'DELETE'\n    });\n  }\n}\n\n// Export singleton instance\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","ApiService","request","endpoint","options","url","defaultOptions","headers","token","localStorage","getItem","config","response","fetch","data","json","ok","Error","error","console","login","username","password","method","body","JSON","stringify","nombre_usuario","register","userData","verifyToken","getProjects","filters","queryParams","URLSearchParams","toString","getProject","id","createProject","projectData","updateProject","deleteProject","getResources","type","createResource","resourceData","updateResource","deleteResource","getReports","getReport","createReport","reportData","deleteReport","apiService"],"sources":["D:/SENA_ADS/GUIA 07/BuildX.Pro.REACT.JS.V.0.2/src/services/apiService.js"],"sourcesContent":["/**\r\n * API Service for BuildX.Pro\r\n * Frontend service to interact with PHP backend\r\n */\r\n\r\nconst API_BASE_URL = 'http://localhost/Servicios_Web/api';\r\n\r\nclass ApiService {\r\n    // Helper method for API requests\r\n    async request(endpoint, options = {}) {\r\n        const url = `${API_BASE_URL}/${endpoint}`;\r\n        const defaultOptions = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        };\r\n\r\n        // Add authorization token if available\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            defaultOptions.headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n\r\n        const config = {\r\n            ...defaultOptions,\r\n            ...options,\r\n            headers: {\r\n                ...defaultOptions.headers,\r\n                ...options.headers,\r\n            },\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(url, config);\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.error || 'Error en la solicitud');\r\n            }\r\n\r\n            return data;\r\n        } catch (error) {\r\n            console.error('API Error:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    // Authentication\r\n    async login(username, password) {\r\n        return this.request('auth.php?action=login', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ nombre_usuario: username, password }),\r\n        });\r\n    }\r\n\r\n    async register(userData) {\r\n        return this.request('auth.php?action=register', {\r\n            method: 'POST',\r\n            body: JSON.stringify(userData),\r\n        });\r\n    }\r\n\r\n    async verifyToken(token) {\r\n        return this.request('auth.php?action=verify', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ token }),\r\n        });\r\n    }\r\n\r\n    // Projects\r\n    async getProjects(filters = {}) {\r\n        const queryParams = new URLSearchParams(filters).toString();\r\n        return this.request(`proyectos.php${queryParams ? '?' + queryParams : ''}`);\r\n    }\r\n\r\n    async getProject(id) {\r\n        return this.request(`proyectos.php?id=${id}`);\r\n    }\r\n\r\n    async createProject(projectData) {\r\n        return this.request('proyectos.php', {\r\n            method: 'POST',\r\n            body: JSON.stringify(projectData),\r\n        });\r\n    }\r\n\r\n    async updateProject(projectData) {\r\n        return this.request('proyectos.php', {\r\n            method: 'PUT',\r\n            body: JSON.stringify(projectData),\r\n        });\r\n    }\r\n\r\n    async deleteProject(id) {\r\n        return this.request(`proyectos.php?id=${id}`, {\r\n            method: 'DELETE',\r\n        });\r\n    }\r\n\r\n    // Resources\r\n    async getResources(type = 'all') {\r\n        return this.request(`recursos.php?type=${type}`);\r\n    }\r\n\r\n    async createResource(resourceData) {\r\n        return this.request('recursos.php', {\r\n            method: 'POST',\r\n            body: JSON.stringify(resourceData),\r\n        });\r\n    }\r\n\r\n    async updateResource(resourceData) {\r\n        return this.request('recursos.php', {\r\n            method: 'PUT',\r\n            body: JSON.stringify(resourceData),\r\n        });\r\n    }\r\n\r\n    async deleteResource(type, id) {\r\n        return this.request(`recursos.php?type=${type}&id=${id}`, {\r\n            method: 'DELETE',\r\n        });\r\n    }\r\n\r\n    // Reports\r\n    async getReports(filters = {}) {\r\n        const queryParams = new URLSearchParams(filters).toString();\r\n        return this.request(`reportes.php${queryParams ? '?' + queryParams : ''}`);\r\n    }\r\n\r\n    async getReport(id) {\r\n        return this.request(`reportes.php?id=${id}`);\r\n    }\r\n\r\n    async createReport(reportData) {\r\n        return this.request('reportes.php', {\r\n            method: 'POST',\r\n            body: JSON.stringify(reportData),\r\n        });\r\n    }\r\n\r\n    async deleteReport(id) {\r\n        return this.request(`reportes.php?id=${id}`, {\r\n            method: 'DELETE',\r\n        });\r\n    }\r\n}\r\n\r\n// Export singleton instance\r\nconst apiService = new ApiService();\r\nexport default apiService;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}